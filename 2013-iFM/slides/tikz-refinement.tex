\ifx\PREAMBLE\UnDef
\documentclass{beamer}
\usepackage{tikz}
\usepackage[english]{babel}
% or whatever

\usepackage[latin1]{inputenc}
% or whatever
\usepackage[colour]{eventB}

\pgfdeclareimage[height=15ex]{sketch}{Adam_sketch}
\pgfdeclareimage[height=15ex]{final}{Adam}
\newBmch[Mch]{M}
\begin{document}
\else
\fi

%\providecommand{\rotatedmodels}{\rotatebox[origin=c]{-90}{$\models$}}
\providecommand{\abstracts}{\textsf{refined by}}
\providecommand{\satisfies}{\textsf{satisfies}}

\begin{tikzpicture}[scale=1.25]
  \draw (0,3) node{\pgfbox[center,top]{\pgfuseimage{sketch}}};
  \draw (0,0) node(m0)[align=center, draw]{$\Mch_0$};
  \draw (0,-0.5) node{\satisfies};
  \draw (0,-1) node{$\phi_0$};
%  \draw (3,2.5) node{\pgfbox[center,top]{\pgfuseimage{gil2}}};
  \draw (3,0) node(m1)[align=center, draw]{$\Mch_1$};
  \draw[->, thick] (m0) --node[fill=white]{\abstracts} (m1);
  \draw (3,-0.5) node{\satisfies};
  \draw (3,-1) node{$\phi_1$};
  \draw (7,3) node{\pgfbox[center,top]{\pgfuseimage{final}}};
  \draw (7,0) node(mn)[align=center, draw]{$\Mch_n$};
  \draw[->, dotted, thick](m1) --node[fill=white]{\abstracts} (mn);
  \draw (7,-0.5) node{\satisfies};
  \draw (7,-1) node{$\phi_n$};
\end{tikzpicture}

\ifx\PREAMBLE\UnDef
\end{document}
\else
\fi
